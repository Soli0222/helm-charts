# Default values for misskey-summarizer.

nameOverride: ""
fullnameOverride: ""

image:
  repository: ghcr.io/soli0222/misskey-summarizer
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []

# CronJob configuration
cronjob:
  # Run at 9:00 AM JST every day (0:00 UTC)
  schedule: "0 0 * * *"
  timeZone: "Asia/Tokyo"
  concurrencyPolicy: Forbid
  successfulJobsHistoryLimit: 3
  failedJobsHistoryLimit: 3
  backoffLimit: 2
  restartPolicy: OnFailure

# Command line arguments
args: []
  # - "--output json"
  # - "--last24h"
  # - "--yesterday"
  # - "--discord"

# Environment variables
env:
  misskeyInstanceUrl: "https://mi.soli0222.com"
  tz: "Asia/Tokyo"

# Secret configuration
# If existingSecret is set, it will be used instead of creating a new secret.
# The existing secret must have keys: misskey-token, openai-api-key, discord-webhook-url
secrets:
  existingSecret: "misskey-summarizer-secret"
  # Used only if existingSecret is empty
  misskeyToken: ""
  openaiApiKey: ""
  discordWebhookUrl: ""

# Pod security context
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 65534
  runAsGroup: 65534
  fsGroup: 65534

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  capabilities:
    drop:
      - ALL

resources:
  requests:
    memory: "64Mi"
    cpu: "50m"
  limits:
    memory: "256Mi"
    cpu: "200m"

nodeSelector: {}
tolerations: []
affinity: {}
