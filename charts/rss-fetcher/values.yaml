# Default values for rss-fetcher.

nameOverride: ""
fullnameOverride: ""

image:
  repository: ghcr.io/soli0222/rss-fetcher
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []
serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}
podSecurityContext: {}
securityContext: {}

service:
  type: ClusterIP
  port: 80 # Not used really since app is a worker, but maybe for metrics?

resources: {}

nodeSelector: {}
tolerations: []
affinity: {}

# Application specific configuration
config:
  # Interval for checking RSS feeds
  interval: "10m"
  
  # feeds.yaml content
  feeds:
    - https://rss.nytimes.com/services/xml/rss/nyt/Technology.xml
    - https://www.youtube.com/feeds/videos.xml?channel_id=UCRcLAVTbmx2-iNcXSsupdNA

  # Webhooks configuration
  # If existingSecret is set, it will be used and 'webhooks' content will be ignored.
  # The existing secret must have a key 'webhooks.yaml'.
  existingSecret: ""
  
  # webhooks.yaml content (used if existingSecret is empty)
  webhooks:
    - name: "my-webhook"
      url: "https://your-webhook-url.com/entrypoint"
      post_interval: 2s
      provider: generic
    - name: "discord-example"
      url: "https://discord.com/api/webhooks/..."
      post_interval: 2s
      provider: discord

# Metrics configuration
metrics:
  enabled: true
  port: 9090
  serviceMonitor:
    enabled: true
    interval: 30s
    scrapeTimeout: 10s
    labels: {}

# Valkey configuration
valkey:
  enabled: true
  image:
    repository: valkey/valkey
    tag: "9.0.1-alpine3.23"
    pullPolicy: IfNotPresent
  service:
    port: 6379
  persistence:
    enabled: false
    size: 1Gi
    storageClass: ""
    accessMode: ReadWriteOnce

externalValkey:
  host: ""
  port: 6379
